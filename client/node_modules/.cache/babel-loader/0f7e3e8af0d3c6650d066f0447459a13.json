{"ast":null,"code":"import { apiRequest } from '../actions/apiRequest';\nimport { GET_USER, loadingUser, userSuccess, userError } from '../actions/user';\nimport setAuthToken from '../../utils/setAuthToken';\n\nconst user = ({\n  dispatch\n}) => next => action => {\n  next(action);\n\n  if (action.type === GET_USER) {\n    setAuthToken(action.payload.token);\n    dispatch(loadingUser());\n    dispatch(apiRequest('GET', '/api/auth', userSuccess, userError, null, null));\n  }\n};\n\nexport default user;","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/redux/middleware/user.js"],"names":["apiRequest","GET_USER","loadingUser","userSuccess","userError","setAuthToken","user","dispatch","next","action","type","payload","token"],"mappings":"AAAA,SAASA,UAAT,QAA2B,uBAA3B;AACA,SACEC,QADF,EAEEC,WAFF,EAGEC,WAHF,EAIEC,SAJF,QAKO,iBALP;AAOA,OAAOC,YAAP,MAAyB,0BAAzB;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgBC,IAAI,IAAIC,MAAM,IAAI;AAC7CD,EAAAA,IAAI,CAACC,MAAD,CAAJ;;AACA,MAAKA,MAAM,CAACC,IAAP,KAAgBT,QAArB,EAAiC;AAC/BI,IAAAA,YAAY,CAACI,MAAM,CAACE,OAAP,CAAeC,KAAhB,CAAZ;AACAL,IAAAA,QAAQ,CAACL,WAAW,EAAZ,CAAR;AACAK,IAAAA,QAAQ,CAACP,UAAU,CAAC,KAAD,EAAO,WAAP,EAAoBG,WAApB,EAAiCC,SAAjC,EAA4C,IAA5C,EAAkD,IAAlD,CAAX,CAAR;AACD;AACF,CAPD;;AASA,eAAeE,IAAf","sourcesContent":["import { apiRequest } from '../actions/apiRequest';\r\nimport {\r\n  GET_USER,\r\n  loadingUser,\r\n  userSuccess,\r\n  userError\r\n} from '../actions/user';\r\n\r\nimport setAuthToken from '../../utils/setAuthToken';\r\n\r\nconst user = ({dispatch}) => next => action => {\r\n  next(action);\r\n  if ( action.type === GET_USER  ) {\r\n    setAuthToken(action.payload.token);\r\n    dispatch(loadingUser());\r\n    dispatch(apiRequest('GET','/api/auth', userSuccess, userError, null, null));\r\n  }\r\n};\r\n\r\nexport default user;\r\n"]},"metadata":{},"sourceType":"module"}