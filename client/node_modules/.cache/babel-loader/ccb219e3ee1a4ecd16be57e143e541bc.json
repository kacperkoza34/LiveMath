{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pekus\\\\Desktop\\\\desktop\\\\liveMathDemoRedux\\\\client\\\\src\\\\components\\\\tasks\\\\DisplayTask\\\\BooleanTask\\\\BooleanTask.js\";\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./BooleanTask.module.scss\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport MathJax from \"../../MathJax\";\nimport AddTaskToClass from \"../../AddTaskToClass/AddTaskToClass/AddTaskToClass\";\nimport { connect } from \"react-redux\";\nimport { getBooleanTask, setTaskConfig } from \"../../../../redux/actions/tasks\";\n\nconst BooleanTask = ({\n  match,\n  getBooleanTask,\n  accountType,\n  setTaskConfig,\n  tasks: {\n    data,\n    isFetching,\n    errors,\n    taskConfig\n  }\n}) => {\n  useEffect(() => {\n    getBooleanTask(match.params.id);\n    return () => setTaskConfig({});\n  }, []);\n  const answers = {};\n  const [taskStatus, setTaskStatus] = useState(null);\n  const [checkAnswers, setChekAnswers] = useState(false);\n\n  const prepareState = () => {\n    data.data.forEach((item, i) => {\n      answers[`${i}`] = \"\";\n    });\n    setTaskStatus({ ...answers\n    });\n  };\n\n  const onChange = e => {\n    setChekAnswers(false);\n    if (e.target.value === \"\") setTaskStatus({ ...taskStatus,\n      [e.target.name]: \"\"\n    });else setTaskStatus({ ...taskStatus,\n      [e.target.name]: e.target.value === \"true\" ? true : false\n    });\n  };\n\n  const displayResult = () => {\n    let result = 0;\n    data.data.forEach(({\n      answer\n    }, i) => answer === taskStatus[i] && result++);\n    return `Wynik: ${result}/${Object.keys(taskStatus).length}`;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, isFetching ? /*#__PURE__*/React.createElement(BeatLoader, {\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, taskStatus === null && prepareState(), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, data.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, data.description), taskStatus && /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, data.data.map(({\n    content,\n    answer\n  }, i) => /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, `${i + 1}). `, content + \"   \", /*#__PURE__*/React.createElement(\"select\", {\n    className: styles.select,\n    name: `${i}`,\n    value: taskStatus[`${i}`],\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \"Wybierz odpowiedz\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"Prawda\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Fa\\u0142sz\")), checkAnswers && (answer === taskStatus[`${i}`] ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.success,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 23\n    }\n  }, \"Dobrze\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.fail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 23\n    }\n  }, \"\\u0179le\"))))), /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.check,\n    onClick: () => setChekAnswers(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Sprawd\\u017A odpowiedzi\"), checkAnswers && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.result,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, displayResult()), !Object.keys(taskConfig).length > 0 && accountType == \"teacher\" && /*#__PURE__*/React.createElement(AddTaskToClass, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  })));\n};\n\nBooleanTask.propTypes = {};\n\nconst mapStateToProps = state => ({\n  tasks: state.tasks,\n  accountType: state.user.data.accountType\n});\n\nexport default connect(mapStateToProps, {\n  getBooleanTask,\n  setTaskConfig\n})(BooleanTask);","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/components/tasks/DisplayTask/BooleanTask/BooleanTask.js"],"names":["React","useEffect","useState","PropTypes","styles","BeatLoader","MathJax","AddTaskToClass","connect","getBooleanTask","setTaskConfig","BooleanTask","match","accountType","tasks","data","isFetching","errors","taskConfig","params","id","answers","taskStatus","setTaskStatus","checkAnswers","setChekAnswers","prepareState","forEach","item","i","onChange","e","target","value","name","displayResult","result","answer","Object","keys","length","root","description","map","content","select","success","fail","check","propTypes","mapStateToProps","state","user"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./BooleanTask.module.scss\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport MathJax from \"../../MathJax\";\nimport AddTaskToClass from \"../../AddTaskToClass/AddTaskToClass/AddTaskToClass\";\nimport { connect } from \"react-redux\";\nimport { getBooleanTask, setTaskConfig } from \"../../../../redux/actions/tasks\";\n\nconst BooleanTask = ({\n  match,\n  getBooleanTask,\n  accountType,\n  setTaskConfig,\n  tasks: { data, isFetching, errors, taskConfig },\n}) => {\n  useEffect(() => {\n    getBooleanTask(match.params.id);\n    return () => setTaskConfig({});\n  }, []);\n\n  const answers = {};\n  const [taskStatus, setTaskStatus] = useState(null);\n  const [checkAnswers, setChekAnswers] = useState(false);\n\n  const prepareState = () => {\n    data.data.forEach((item, i) => {\n      answers[`${i}`] = \"\";\n    });\n    setTaskStatus({ ...answers });\n  };\n\n  const onChange = (e) => {\n    setChekAnswers(false);\n    if (e.target.value === \"\")\n      setTaskStatus({ ...taskStatus, [e.target.name]: \"\" });\n    else\n      setTaskStatus({\n        ...taskStatus,\n        [e.target.name]: e.target.value === \"true\" ? true : false,\n      });\n  };\n\n  const displayResult = () => {\n    let result = 0;\n    data.data.forEach(({ answer }, i) => answer === taskStatus[i] && result++);\n    return `Wynik: ${result}/${Object.keys(taskStatus).length}`;\n  };\n\n  return (\n    <div className={styles.root}>\n      {isFetching ? (\n        <BeatLoader size={20} />\n      ) : (\n        <>\n          {taskStatus === null && prepareState()}\n          <h4>{data.name}</h4>\n          <p>{data.description}</p>\n          {taskStatus && (\n            <ul>\n              {data.data.map(({ content, answer }, i) => (\n                <li className={styles.item}>\n                  {`${i + 1}). `}\n                  {content + \"   \"}\n                  <select\n                    className={styles.select}\n                    name={`${i}`}\n                    value={taskStatus[`${i}`]}\n                    onChange={(e) => onChange(e)}\n                  >\n                    <option value={\"\"}>Wybierz odpowiedz</option>\n                    <option value={true}>Prawda</option>\n                    <option value={false}>Fałsz</option>\n                  </select>\n                  {checkAnswers &&\n                    (answer === taskStatus[`${i}`] ? (\n                      <div className={styles.success}>Dobrze</div>\n                    ) : (\n                      <div className={styles.fail}>Źle</div>\n                    ))}\n                </li>\n              ))}\n            </ul>\n          )}\n          <button className={styles.check} onClick={() => setChekAnswers(true)}>\n            Sprawdź odpowiedzi\n          </button>\n          {checkAnswers && (\n            <div className={styles.result}>{displayResult()}</div>\n          )}\n          {!Object.keys(taskConfig).length > 0 && accountType == \"teacher\" && (\n            <AddTaskToClass />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nBooleanTask.propTypes = {};\n\nconst mapStateToProps = (state) => ({\n  tasks: state.tasks,\n  accountType: state.user.data.accountType,\n});\n\nexport default connect(mapStateToProps, { getBooleanTask, setTaskConfig })(\n  BooleanTask\n);\n"]},"metadata":{},"sourceType":"module"}