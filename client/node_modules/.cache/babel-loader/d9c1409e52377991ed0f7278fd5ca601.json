{"ast":null,"code":"import { apiRequest } from '../actions/apiRequest';\nimport { GET_CLASSES, OPEN_CLASS, CLOSE_CLASS, UPDATE_CLASS, ADD_CLASS, CLASSES_ERROR, loadingClasses, classesSuccess, classesError, updateClass } from '../actions/classes';\nimport { smallLoadingStart, smallLoadingStop } from '../actions/smallLoading';\nconst configJson = {\n  headers: {\n    'Content-Type': 'application/json'\n  }\n};\n\nconst classes = ({\n  dispatch\n}) => next => action => {\n  next(action);\n\n  if (action.type === GET_CLASSES) {\n    dispatch(loadingClasses());\n    dispatch(apiRequest('GET', '/api/class/my', classesSuccess, classesError, null, null));\n  }\n\n  if (action.type === OPEN_CLASS) {\n    dispatch(smallLoadingStart());\n    dispatch(apiRequest('PUT', `/api/class/open/${action.payload}`, updateClass, classesError, null, null));\n  }\n\n  if (action.type === CLOSE_CLASS) {\n    dispatch(smallLoadingStart());\n    dispatch(apiRequest('PUT', `/api/class/close/${action.payload}`, updateClass, classesError, null, null));\n  }\n\n  if (action.type === UPDATE_CLASS) {\n    dispatch(smallLoadingStop());\n  }\n\n  if (action.type === ADD_CLASS) {\n    dispatch(smallLoadingStart());\n    dispatch(apiRequest('PUT', '/api/class/create', updateClass, classesError, action.payload, configJson));\n  }\n\n  if (action.type === CLASSES_ERROR) {\n    dispatch(smallLoadingStart());\n    dispatch(apiRequest('PUT', '/api/class/create', updateClass, classesError, action.payload, configJson));\n  }\n};\n\nexport default classes;","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/redux/middleware/classes.js"],"names":["apiRequest","GET_CLASSES","OPEN_CLASS","CLOSE_CLASS","UPDATE_CLASS","ADD_CLASS","CLASSES_ERROR","loadingClasses","classesSuccess","classesError","updateClass","smallLoadingStart","smallLoadingStop","configJson","headers","classes","dispatch","next","action","type","payload"],"mappings":"AAAA,SAASA,UAAT,QAA2B,uBAA3B;AACA,SACEC,WADF,EAEEC,UAFF,EAGEC,WAHF,EAIEC,YAJF,EAKEC,SALF,EAMEC,aANF,EAOEC,cAPF,EAQEC,cARF,EASEC,YATF,EAUEC,WAVF,QAWO,oBAXP;AAaA,SACEC,iBADF,EAEEC,gBAFF,QAGO,yBAHP;AAKA,MAAMC,UAAU,GAAG;AACjBC,EAAAA,OAAO,EAAE;AACP,oBAAiB;AADV;AADQ,CAAnB;;AAMA,MAAMC,OAAO,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgBC,IAAI,IAAIC,MAAM,IAAI;AAChDD,EAAAA,IAAI,CAACC,MAAD,CAAJ;;AACA,MAAKA,MAAM,CAACC,IAAP,KAAgBlB,WAArB,EAAoC;AAClCe,IAAAA,QAAQ,CAACT,cAAc,EAAf,CAAR;AACAS,IAAAA,QAAQ,CAAChB,UAAU,CAAC,KAAD,EAAO,eAAP,EAAwBQ,cAAxB,EAAwCC,YAAxC,EAAsD,IAAtD,EAA4D,IAA5D,CAAX,CAAR;AACD;;AAED,MAAKS,MAAM,CAACC,IAAP,KAAgBjB,UAArB,EAAmC;AACjCc,IAAAA,QAAQ,CAACL,iBAAiB,EAAlB,CAAR;AACAK,IAAAA,QAAQ,CAAChB,UAAU,CAAC,KAAD,EAAQ,mBAAkBkB,MAAM,CAACE,OAAQ,EAAzC,EAA4CV,WAA5C,EAAyDD,YAAzD,EAAuE,IAAvE,EAA6E,IAA7E,CAAX,CAAR;AACD;;AAED,MAAKS,MAAM,CAACC,IAAP,KAAgBhB,WAArB,EAAoC;AAClCa,IAAAA,QAAQ,CAACL,iBAAiB,EAAlB,CAAR;AACAK,IAAAA,QAAQ,CAAChB,UAAU,CAAC,KAAD,EAAQ,oBAAmBkB,MAAM,CAACE,OAAQ,EAA1C,EAA6CV,WAA7C,EAA0DD,YAA1D,EAAwE,IAAxE,EAA8E,IAA9E,CAAX,CAAR;AACD;;AACD,MAAKS,MAAM,CAACC,IAAP,KAAgBf,YAArB,EAAqC;AACnCY,IAAAA,QAAQ,CAACJ,gBAAgB,EAAjB,CAAR;AACD;;AACD,MAAKM,MAAM,CAACC,IAAP,KAAgBd,SAArB,EAAkC;AAChCW,IAAAA,QAAQ,CAACL,iBAAiB,EAAlB,CAAR;AACAK,IAAAA,QAAQ,CAAChB,UAAU,CAAC,KAAD,EAAO,mBAAP,EAA4BU,WAA5B,EAAyCD,YAAzC,EAAuDS,MAAM,CAACE,OAA9D,EAAuEP,UAAvE,CAAX,CAAR;AACD;;AACD,MAAKK,MAAM,CAACC,IAAP,KAAgBb,aAArB,EAAsC;AACpCU,IAAAA,QAAQ,CAACL,iBAAiB,EAAlB,CAAR;AACAK,IAAAA,QAAQ,CAAChB,UAAU,CAAC,KAAD,EAAO,mBAAP,EAA4BU,WAA5B,EAAyCD,YAAzC,EAAuDS,MAAM,CAACE,OAA9D,EAAuEP,UAAvE,CAAX,CAAR;AACD;AACF,CA3BD;;AA6BA,eAAeE,OAAf","sourcesContent":["import { apiRequest } from '../actions/apiRequest';\r\nimport {\r\n  GET_CLASSES,\r\n  OPEN_CLASS,\r\n  CLOSE_CLASS,\r\n  UPDATE_CLASS,\r\n  ADD_CLASS,\r\n  CLASSES_ERROR,\r\n  loadingClasses,\r\n  classesSuccess,\r\n  classesError,\r\n  updateClass\r\n} from '../actions/classes';\r\n\r\nimport {\r\n  smallLoadingStart,\r\n  smallLoadingStop\r\n} from '../actions/smallLoading'\r\n\r\nconst configJson = {\r\n  headers: {\r\n    'Content-Type' : 'application/json'\r\n  }\r\n};\r\n\r\nconst classes = ({dispatch}) => next => action => {\r\n  next(action);\r\n  if ( action.type === GET_CLASSES  ) {\r\n    dispatch(loadingClasses());\r\n    dispatch(apiRequest('GET','/api/class/my', classesSuccess, classesError, null, null));\r\n  }\r\n\r\n  if ( action.type === OPEN_CLASS  ) {\r\n    dispatch(smallLoadingStart());\r\n    dispatch(apiRequest('PUT',`/api/class/open/${action.payload}`, updateClass, classesError, null, null));\r\n  }\r\n\r\n  if ( action.type === CLOSE_CLASS  ) {\r\n    dispatch(smallLoadingStart());\r\n    dispatch(apiRequest('PUT',`/api/class/close/${action.payload}`, updateClass, classesError, null, null));\r\n  }\r\n  if ( action.type === UPDATE_CLASS  ) {\r\n    dispatch(smallLoadingStop());\r\n  }\r\n  if ( action.type === ADD_CLASS  ) {\r\n    dispatch(smallLoadingStart());\r\n    dispatch(apiRequest('PUT','/api/class/create', updateClass, classesError, action.payload, configJson));\r\n  }\r\n  if ( action.type === CLASSES_ERROR  ) {\r\n    dispatch(smallLoadingStart());\r\n    dispatch(apiRequest('PUT','/api/class/create', updateClass, classesError, action.payload, configJson));\r\n  }\r\n};\r\n\r\nexport default classes;\r\n"]},"metadata":{},"sourceType":"module"}