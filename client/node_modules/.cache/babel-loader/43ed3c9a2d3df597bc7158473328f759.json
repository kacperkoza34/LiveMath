{"ast":null,"code":"import { API_REQUEST } from '../actions/apiRequest';\nimport Axios from 'axios';\nimport { FETCHING_STOP } from '../actions/fetching';\n\nconst apiRequest = ({\n  dispatch,\n  getState\n}) => next => action => {\n  next(action);\n\n  if (action.type === API_REQUEST) {\n    const {\n      method,\n      url,\n      onSucces,\n      onError,\n      body,\n      config\n    } = action.meta;\n    Axios({\n      method: method,\n      url: url,\n      data: body,\n      config: config\n    }).then(({\n      data\n    }) => {\n      dispatch(onSucces(data));\n      dispatch({\n        type: CLASSES_ERROR,\n        payload: err.response\n      }); //dispatch(fetchingStop());\n    }).catch(({\n      response\n    }) => {\n      dispatch(onError(response)); //dispatch(fetchingStop());\n    });\n  }\n};\n\nexport default apiRequest;","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/redux/middleware/apiRequest.js"],"names":["API_REQUEST","Axios","FETCHING_STOP","apiRequest","dispatch","getState","next","action","type","method","url","onSucces","onError","body","config","meta","data","then","CLASSES_ERROR","payload","err","response","catch"],"mappings":"AAAA,SAASA,WAAT,QAA4B,uBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SACEC,aADF,QAEO,qBAFP;;AAIA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAD,KAA0BC,IAAI,IAAIC,MAAM,IAAI;AAC7DD,EAAAA,IAAI,CAACC,MAAD,CAAJ;;AACA,MAAIA,MAAM,CAACC,IAAP,KAAgBR,WAApB,EAAiC;AAC/B,UAAM;AAAES,MAAAA,MAAF;AAAUC,MAAAA,GAAV;AAAeC,MAAAA,QAAf;AAAyBC,MAAAA,OAAzB;AAAkCC,MAAAA,IAAlC;AAAwCC,MAAAA;AAAxC,QAAmDP,MAAM,CAACQ,IAAhE;AACAd,IAAAA,KAAK,CAAC;AACJQ,MAAAA,MAAM,EAAEA,MADJ;AAEJC,MAAAA,GAAG,EAAEA,GAFD;AAGJM,MAAAA,IAAI,EAAEH,IAHF;AAIJC,MAAAA,MAAM,EAAEA;AAJJ,KAAD,CAAL,CAMGG,IANH,CAMS,CAAC;AAACD,MAAAA;AAAD,KAAD,KAAW;AAChBZ,MAAAA,QAAQ,CAACO,QAAQ,CAACK,IAAD,CAAT,CAAR;AACAZ,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEU,aADC;AAEPC,QAAAA,OAAO,EAAEC,GAAG,CAACC;AAFN,OAAD,CAAR,CAFgB,CAMhB;AACD,KAbH,EAeGC,KAfH,CAeU,CAAC;AAACD,MAAAA;AAAD,KAAD,KAAe;AACrBjB,MAAAA,QAAQ,CAACQ,OAAO,CAACS,QAAD,CAAR,CAAR,CADqB,CAErB;AACD,KAlBH;AAoBD;AACF,CAzBD;;AA2BA,eAAelB,UAAf","sourcesContent":["import { API_REQUEST } from '../actions/apiRequest';\r\nimport Axios from 'axios';\r\n\r\nimport {\r\n  FETCHING_STOP\r\n} from '../actions/fetching'\r\n\r\nconst apiRequest = ({dispatch, getState}) => next => action => {\r\n  next(action);\r\n  if( action.type === API_REQUEST) {\r\n    const { method, url, onSucces, onError, body, config } = action.meta;\r\n    Axios({\r\n      method: method,\r\n      url: url,\r\n      data: body,\r\n      config: config\r\n    })\r\n      .then( ({data}) =>{\r\n        dispatch(onSucces(data));\r\n        dispatch({\r\n          type: CLASSES_ERROR,\r\n          payload: err.response\r\n        });\r\n        //dispatch(fetchingStop());\r\n      }\r\n      )\r\n      .catch( ({response}) =>{\r\n        dispatch(onError(response));\r\n        //dispatch(fetchingStop());\r\n      }\r\n      );\r\n  }\r\n};\r\n\r\nexport default apiRequest;\r\n"]},"metadata":{},"sourceType":"module"}