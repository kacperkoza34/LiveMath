{"ast":null,"code":"import { apiRequest } from \"../actions/apiRequest\";\nimport { USE_PROMPT, UPDATE_PROMPT, SEND_OPEN_TASK_RESOLUTION, TASKS_RESOLVED, REVIEW_CLOSE_TASK, updatePrompt, taskResolved, reviewCloseTaskSuccess } from \"../actions/resolveTask\";\nimport { taskError, TASKS_ERROR } from \"../actions/tasks\";\nimport { smallLoadingStart, smallLoadingStop } from \"../actions/smallLoading\";\n\nconst resolveTask = ({\n  dispatch\n}) => next => action => {\n  next(action);\n\n  if (action.type === USE_PROMPT) {\n    dispatch(smallLoadingStart());\n    dispatch(apiRequest(\"PUT\", `/api/tasks/${action.payload}`, updatePrompt, taskError, null, null));\n  }\n\n  if (action.type === SEND_OPEN_TASK_RESOLUTION) {\n    dispatch(smallLoadingStart());\n    dispatch(apiRequest(\"PUT\", `/api/student/profile/resolve/open`, taskResolved, taskError, action.payload, null));\n  }\n\n  if (action.type === REVIEW_CLOSE_TASK) {\n    dispatch(smallLoadingStart());\n    dispatch(apiRequest(\"PUT\", `/api/student/profile/resolve/open/update`, taskResolved, taskError, action.payload, null));\n  }\n\n  if (action.type === UPDATE_PROMPT || action.type === TASKS_ERROR || action.type === TASKS_RESOLVED) {\n    dispatch(smallLoadingStop());\n  }\n};\n\nexport default resolveTask;","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/redux/middleware/resolveTask.js"],"names":["apiRequest","USE_PROMPT","UPDATE_PROMPT","SEND_OPEN_TASK_RESOLUTION","TASKS_RESOLVED","REVIEW_CLOSE_TASK","updatePrompt","taskResolved","reviewCloseTaskSuccess","taskError","TASKS_ERROR","smallLoadingStart","smallLoadingStop","resolveTask","dispatch","next","action","type","payload"],"mappings":"AAAA,SAASA,UAAT,QAA2B,uBAA3B;AACA,SACEC,UADF,EAEEC,aAFF,EAGEC,yBAHF,EAIEC,cAJF,EAKEC,iBALF,EAMEC,YANF,EAOEC,YAPF,EAQEC,sBARF,QASO,wBATP;AAUA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,kBAAvC;AAEA,SAASC,iBAAT,EAA4BC,gBAA5B,QAAoD,yBAApD;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmBC,IAAD,IAAWC,MAAD,IAAY;AAC1DD,EAAAA,IAAI,CAACC,MAAD,CAAJ;;AAEA,MAAIA,MAAM,CAACC,IAAP,KAAgBhB,UAApB,EAAgC;AAC9Ba,IAAAA,QAAQ,CAACH,iBAAiB,EAAlB,CAAR;AACAG,IAAAA,QAAQ,CACNd,UAAU,CACR,KADQ,EAEP,cAAagB,MAAM,CAACE,OAAQ,EAFrB,EAGRZ,YAHQ,EAIRG,SAJQ,EAKR,IALQ,EAMR,IANQ,CADJ,CAAR;AAUD;;AAED,MAAIO,MAAM,CAACC,IAAP,KAAgBd,yBAApB,EAA+C;AAC7CW,IAAAA,QAAQ,CAACH,iBAAiB,EAAlB,CAAR;AACAG,IAAAA,QAAQ,CACNd,UAAU,CACR,KADQ,EAEP,mCAFO,EAGRO,YAHQ,EAIRE,SAJQ,EAKRO,MAAM,CAACE,OALC,EAMR,IANQ,CADJ,CAAR;AAUD;;AAED,MAAIF,MAAM,CAACC,IAAP,KAAgBZ,iBAApB,EAAuC;AACrCS,IAAAA,QAAQ,CAACH,iBAAiB,EAAlB,CAAR;AACAG,IAAAA,QAAQ,CACNd,UAAU,CACR,KADQ,EAEP,0CAFO,EAGRO,YAHQ,EAIRE,SAJQ,EAKRO,MAAM,CAACE,OALC,EAMR,IANQ,CADJ,CAAR;AAUD;;AAED,MACEF,MAAM,CAACC,IAAP,KAAgBf,aAAhB,IACAc,MAAM,CAACC,IAAP,KAAgBP,WADhB,IAEAM,MAAM,CAACC,IAAP,KAAgBb,cAHlB,EAIE;AACAU,IAAAA,QAAQ,CAACF,gBAAgB,EAAjB,CAAR;AACD;AACF,CApDD;;AAsDA,eAAeC,WAAf","sourcesContent":["import { apiRequest } from \"../actions/apiRequest\";\nimport {\n  USE_PROMPT,\n  UPDATE_PROMPT,\n  SEND_OPEN_TASK_RESOLUTION,\n  TASKS_RESOLVED,\n  REVIEW_CLOSE_TASK,\n  updatePrompt,\n  taskResolved,\n  reviewCloseTaskSuccess,\n} from \"../actions/resolveTask\";\nimport { taskError, TASKS_ERROR } from \"../actions/tasks\";\n\nimport { smallLoadingStart, smallLoadingStop } from \"../actions/smallLoading\";\n\nconst resolveTask = ({ dispatch }) => (next) => (action) => {\n  next(action);\n\n  if (action.type === USE_PROMPT) {\n    dispatch(smallLoadingStart());\n    dispatch(\n      apiRequest(\n        \"PUT\",\n        `/api/tasks/${action.payload}`,\n        updatePrompt,\n        taskError,\n        null,\n        null\n      )\n    );\n  }\n\n  if (action.type === SEND_OPEN_TASK_RESOLUTION) {\n    dispatch(smallLoadingStart());\n    dispatch(\n      apiRequest(\n        \"PUT\",\n        `/api/student/profile/resolve/open`,\n        taskResolved,\n        taskError,\n        action.payload,\n        null\n      )\n    );\n  }\n\n  if (action.type === REVIEW_CLOSE_TASK) {\n    dispatch(smallLoadingStart());\n    dispatch(\n      apiRequest(\n        \"PUT\",\n        `/api/student/profile/resolve/open/update`,\n        taskResolved,\n        taskError,\n        action.payload,\n        null\n      )\n    );\n  }\n\n  if (\n    action.type === UPDATE_PROMPT ||\n    action.type === TASKS_ERROR ||\n    action.type === TASKS_RESOLVED\n  ) {\n    dispatch(smallLoadingStop());\n  }\n};\n\nexport default resolveTask;\n"]},"metadata":{},"sourceType":"module"}