{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pekus\\\\Desktop\\\\desktop\\\\liveMathDemoRedux\\\\client\\\\src\\\\components\\\\auth\\\\Register\\\\Register.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport styles from \"./Register.module.scss\";\nimport PropTypes from \"prop-types\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport { connect } from \"react-redux\";\nimport { register, alreadyLogged } from \"../../../redux/actions/auth\";\n\nconst Register = ({\n  auth: {\n    isAuthenticated,\n    isFetching,\n    errors\n  },\n  register,\n  alreadyLogged,\n  match\n}) => {\n  useEffect(() => {\n    if (localStorage.token) {\n      alreadyLogged({\n        token: localStorage.token\n      });\n    }\n  }, []);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\"\n  });\n  const [passwordsErr, setPasswordErr] = useState([]);\n  const {\n    name,\n    email,\n    password,\n    password2\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    if (password !== password2) {\n      setPasswordErr([{\n        msg: \"Hasła nie są takie same\"\n      }]);\n    } else {\n      setPasswordErr([]);\n      register({\n        name,\n        email,\n        password,\n        params: match.params\n      });\n    }\n  };\n\n  if (isAuthenticated) return /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 31\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"large text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Stw\\xF3rz konto\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Podaj swoj\\u0105 nazwe\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Name\",\n    name: \"name\",\n    value: name,\n    onChange: e => onChange(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email Address\",\n    name: \"email\",\n    value: email,\n    onChange: e => onChange(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Has\\u0142o\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    minLength: \"6\",\n    value: password,\n    onChange: e => onChange(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Potwierd\\u017A has\\u0142o\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    name: \"password2\",\n    minLength: \"6\",\n    value: password2,\n    onChange: e => onChange(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  })), isFetching ? /*#__PURE__*/React.createElement(BeatLoader, {\n    size: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    value: \"Zarejestruj si\\u0119\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"Masz juz konto?\", \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    className: styles.btnLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"Zaloguj si\\u0119\"))));\n};\n\nRegister.propTypes = {\n  auth: PropTypes.object.isRequired,\n  register: PropTypes.func.isRequired,\n  alreadyLogged: PropTypes.object.isRequired,\n  match: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  register,\n  alreadyLogged\n})(Register);","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/components/auth/Register/Register.js"],"names":["React","useState","useEffect","Link","Redirect","styles","PropTypes","BeatLoader","connect","register","alreadyLogged","Register","auth","isAuthenticated","isFetching","errors","match","localStorage","token","formData","setFormData","name","email","password","password2","passwordsErr","setPasswordErr","onChange","e","target","value","onSubmit","preventDefault","msg","params","root","wrapper","btnLogin","propTypes","object","isRequired","func","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport styles from \"./Register.module.scss\";\nimport PropTypes from \"prop-types\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport { connect } from \"react-redux\";\nimport { register, alreadyLogged } from \"../../../redux/actions/auth\";\n\nconst Register = ({\n  auth: { isAuthenticated, isFetching, errors },\n  register,\n  alreadyLogged,\n  match,\n}) => {\n  useEffect(() => {\n    if (localStorage.token) {\n      alreadyLogged({ token: localStorage.token });\n    }\n  }, []);\n\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n  });\n  const [passwordsErr, setPasswordErr] = useState([]);\n  const { name, email, password, password2 } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (password !== password2) {\n      setPasswordErr([{ msg: \"Hasła nie są takie same\" }]);\n    } else {\n      setPasswordErr([]);\n      register({ name, email, password, params: match.params });\n    }\n  };\n\n  if (isAuthenticated) return <Redirect to=\"/dashboard\" />;\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.wrapper}>\n        <h1 className=\"large text-primary\">Stwórz konto</h1>\n        <form className=\"form\" onSubmit={(e) => onSubmit(e)}>\n          <div className=\"form-group\">\n            <h4>Podaj swoją nazwe</h4>\n            <input\n              type=\"text\"\n              placeholder=\"Name\"\n              name=\"name\"\n              value={name}\n              onChange={(e) => onChange(e)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <h4>Email</h4>\n            <input\n              type=\"email\"\n              placeholder=\"Email Address\"\n              name=\"email\"\n              value={email}\n              onChange={(e) => onChange(e)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <h4>Hasło</h4>\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              minLength=\"6\"\n              value={password}\n              onChange={(e) => onChange(e)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <h4>Potwierdź hasło</h4>\n            <input\n              type=\"password\"\n              placeholder=\"Confirm Password\"\n              name=\"password2\"\n              minLength=\"6\"\n              value={password2}\n              onChange={(e) => onChange(e)}\n              required\n            />\n          </div>\n          {isFetching ? (\n            <BeatLoader size={30} />\n          ) : (\n            <input\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              value=\"Zarejestruj się\"\n            />\n          )}\n        </form>\n        <p className=\"my-1\">\n          Masz juz konto?{\" \"}\n          <Link to=\"/login\" className={styles.btnLogin}>\n            Zaloguj się\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nRegister.propTypes = {\n  auth: PropTypes.object.isRequired,\n  register: PropTypes.func.isRequired,\n  alreadyLogged: PropTypes.object.isRequired,\n  match: PropTypes.object,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapStateToProps, { register, alreadyLogged })(Register);\n"]},"metadata":{},"sourceType":"module"}