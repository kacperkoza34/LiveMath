{"ast":null,"code":"import { apiRequest } from '../actions/apiRequest';\nimport { GET_PROFILE, GET_STUDENT_PROFILE, loadingProfile, profileSuccess, profileError } from '../actions/profile';\n\nconst profile = ({\n  dispatch\n}) => next => action => {\n  next(action);\n\n  if (action.type === GET_PROFILE) {\n    dispatch(loadingProfile());\n    dispatch(apiRequest('GET', '/api/teacher/profile/me', profileSuccess, profileError, null, null));\n  }\n\n  if (action.type === GET_STUDENT_PROFILE) {\n    dispatch(loadingProfile());\n    dispatch(apiRequest('GET', `/api/profile/student/${action.payload}`, profileSuccess, profileError, null, null));\n  }\n};\n\nexport default profile;","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/redux/middleware/profile.js"],"names":["apiRequest","GET_PROFILE","GET_STUDENT_PROFILE","loadingProfile","profileSuccess","profileError","profile","dispatch","next","action","type","payload"],"mappings":"AAAA,SAASA,UAAT,QAA2B,uBAA3B;AACA,SACEC,WADF,EAEEC,mBAFF,EAGEC,cAHF,EAIEC,cAJF,EAKEC,YALF,QAMO,oBANP;;AAUA,MAAMC,OAAO,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgBC,IAAI,IAAIC,MAAM,IAAI;AAChDD,EAAAA,IAAI,CAACC,MAAD,CAAJ;;AACA,MAAKA,MAAM,CAACC,IAAP,KAAgBT,WAArB,EAAoC;AAClCM,IAAAA,QAAQ,CAACJ,cAAc,EAAf,CAAR;AACAI,IAAAA,QAAQ,CAACP,UAAU,CAAC,KAAD,EAAO,yBAAP,EAAkCI,cAAlC,EAAkDC,YAAlD,EAAgE,IAAhE,EAAsE,IAAtE,CAAX,CAAR;AACD;;AAED,MAAKI,MAAM,CAACC,IAAP,KAAgBR,mBAArB,EAA4C;AAC1CK,IAAAA,QAAQ,CAACJ,cAAc,EAAf,CAAR;AACAI,IAAAA,QAAQ,CAACP,UAAU,CAAC,KAAD,EAAQ,wBAAuBS,MAAM,CAACE,OAAQ,EAA9C,EAAiDP,cAAjD,EAAiEC,YAAjE,EAA+E,IAA/E,EAAqF,IAArF,CAAX,CAAR;AACD;AACF,CAXD;;AAaA,eAAeC,OAAf","sourcesContent":["import { apiRequest } from '../actions/apiRequest';\r\nimport {\r\n  GET_PROFILE,\r\n  GET_STUDENT_PROFILE,\r\n  loadingProfile,\r\n  profileSuccess,\r\n  profileError\r\n} from '../actions/profile';\r\n\r\n\r\n\r\nconst profile = ({dispatch}) => next => action => {\r\n  next(action);\r\n  if ( action.type === GET_PROFILE  ) {\r\n    dispatch(loadingProfile());\r\n    dispatch(apiRequest('GET','/api/teacher/profile/me', profileSuccess, profileError, null, null));\r\n  }\r\n\r\n  if ( action.type === GET_STUDENT_PROFILE  ) {\r\n    dispatch(loadingProfile());\r\n    dispatch(apiRequest('GET',`/api/profile/student/${action.payload}`, profileSuccess, profileError, null, null));\r\n  }\r\n};\r\n\r\nexport default profile;\r\n"]},"metadata":{},"sourceType":"module"}