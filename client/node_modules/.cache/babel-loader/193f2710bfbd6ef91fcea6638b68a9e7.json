{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pekus\\\\Desktop\\\\desktop\\\\liveMathDemoRedux\\\\client\\\\src\\\\components\\\\tasks\\\\AddTask\\\\OpenTask\\\\VariabelsList.js\";\nimport React from 'react';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { connect } from 'react-redux';\nimport { addTaskData, addVarDescription } from '../../../../redux/actions/newTask';\n\nclass VariabelsList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      variablesInput: '',\n      activeForm: 0,\n      addingType: '',\n      varsExist: false,\n      varsOneLetter: false\n    };\n  }\n\n  getCode() {\n    const {\n      taskContent: task\n    } = this.props;\n    let subString = '';\n    let start = false;\n    const code = [];\n\n    for (let i in task) {\n      if (task[i] === '}') {\n        if (subString.length) {\n          if (!code.some(({\n            variable\n          }) => variable == subString.trim())) {\n            code.push({\n              variable: subString.trim(),\n              description: ''\n            });\n          }\n        }\n\n        ;\n        subString = '';\n        start = false;\n      }\n\n      ;\n      if (start) subString = subString + task[i];\n\n      if (task[i] === '{') {\n        start = true;\n        i++;\n      }\n    }\n\n    if (code.length) {\n      this.setState({\n        varsExist: false\n      });\n\n      if (code.some(({\n        variable\n      }) => variable.length !== 1)) {\n        this.setState({\n          varsOneLetter: true\n        });\n        return [];\n      } else {\n        this.setState({\n          varsOneLetter: false\n        });\n        return code;\n      }\n    } else {\n      this.setState({\n        varsExist: true\n      });\n      return code;\n    }\n\n    ;\n  }\n\n  addDescription(e, variable) {\n    const {\n      addVarDescription\n    } = this.props;\n    addVarDescription(e.target.value, variable);\n  }\n\n  render() {\n    const {\n      addTaskData,\n      taskData\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => addTaskData(this.getCode()),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, \"Ustal zmienne\"), this.state.varsExist && /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 35\n      }\n    }, \"Nie poda\\u0142e\\u015B zmiennych\"), this.state.varsOneLetter && /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 39\n      }\n    }, \"Nazwy zmiennych powinny zawiera\\u0107 jedn\\u0105 litere\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, Array.from(taskData).length > 0 && /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, \"Nazwa\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, \"Opis\")), Array.from(taskData).map(({\n      variable,\n      description\n    }) => /*#__PURE__*/React.createElement(\"li\", {\n      key: variable,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, variable), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextareaAutosize, {\n      value: description,\n      onChange: e => this.addDescription(e, variable),\n      name: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  taskContent: state.newTask.content,\n  taskData: state.newTask.variables\n});\n\nexport default connect(mapStateToProps, {\n  addTaskData,\n  addVarDescription\n})(VariabelsList);","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/components/tasks/AddTask/OpenTask/VariabelsList.js"],"names":["React","TextareaAutosize","connect","addTaskData","addVarDescription","VariabelsList","Component","state","variablesInput","activeForm","addingType","varsExist","varsOneLetter","getCode","taskContent","task","props","subString","start","code","i","length","some","variable","trim","push","description","setState","addDescription","e","target","value","render","taskData","Array","from","map","mapStateToProps","newTask","content","variables"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,EAAsBC,iBAAtB,QAA+C,mCAA/C;;AAEA,MAAMC,aAAN,SAA4BL,KAAK,CAACM,SAAlC,CAA4C;AAAA;AAAA;AAAA,SAE1CC,KAF0C,GAElC;AACNC,MAAAA,cAAc,EAAE,EADV;AAENC,MAAAA,UAAU,EAAE,CAFN;AAGNC,MAAAA,UAAU,EAAE,EAHN;AAINC,MAAAA,SAAS,EAAE,KAJL;AAKNC,MAAAA,aAAa,EAAE;AALT,KAFkC;AAAA;;AAU1CC,EAAAA,OAAO,GAAE;AACP,UAAM;AAAEC,MAAAA,WAAW,EAAEC;AAAf,QAAwB,KAAKC,KAAnC;AACA,QAAIC,SAAS,GAAG,EAAhB;AACA,QAAIC,KAAK,GAAG,KAAZ;AACA,UAAMC,IAAI,GAAG,EAAb;;AACA,SAAI,IAAIC,CAAR,IAAaL,IAAb,EAAkB;AAChB,UAAGA,IAAI,CAACK,CAAD,CAAJ,KAAY,GAAf,EAAmB;AACjB,YAAGH,SAAS,CAACI,MAAb,EAAoB;AAClB,cAAG,CAACF,IAAI,CAACG,IAAL,CAAU,CAAC;AAACC,YAAAA;AAAD,WAAD,KAAgBA,QAAQ,IAAIN,SAAS,CAACO,IAAV,EAAtC,CAAJ,EAA4D;AAC1DL,YAAAA,IAAI,CAACM,IAAL,CAAU;AAACF,cAAAA,QAAQ,EAAEN,SAAS,CAACO,IAAV,EAAX;AAA6BE,cAAAA,WAAW,EAAE;AAA1C,aAAV;AACD;AACF;;AAAA;AACDT,QAAAA,SAAS,GAAG,EAAZ;AACAC,QAAAA,KAAK,GAAG,KAAR;AACD;;AAAA;AACD,UAAGA,KAAH,EAAUD,SAAS,GAAGA,SAAS,GAAGF,IAAI,CAACK,CAAD,CAA5B;;AACV,UAAIL,IAAI,CAACK,CAAD,CAAJ,KAAY,GAAhB,EAAoB;AACjBF,QAAAA,KAAK,GAAG,IAAR;AACAE,QAAAA,CAAC;AACH;AACF;;AACD,QAAGD,IAAI,CAACE,MAAR,EAAe;AACb,WAAKM,QAAL,CAAc;AAAChB,QAAAA,SAAS,EAAE;AAAZ,OAAd;;AACA,UAAGQ,IAAI,CAACG,IAAL,CAAU,CAAC;AAACC,QAAAA;AAAD,OAAD,KAAgBA,QAAQ,CAACF,MAAT,KAAoB,CAA9C,CAAH,EAAoD;AAClD,aAAKM,QAAL,CAAc;AAACf,UAAAA,aAAa,EAAE;AAAhB,SAAd;AACA,eAAO,EAAP;AACD,OAHD,MAIK;AACH,aAAKe,QAAL,CAAc;AAACf,UAAAA,aAAa,EAAE;AAAhB,SAAd;AACA,eAAOO,IAAP;AACD;AACF,KAVD,MAWK;AACH,WAAKQ,QAAL,CAAc;AAAChB,QAAAA,SAAS,EAAE;AAAZ,OAAd;AACA,aAAOQ,IAAP;AACD;;AAAA;AACF;;AAEDS,EAAAA,cAAc,CAACC,CAAD,EAAGN,QAAH,EAAY;AACxB,UAAM;AAAEnB,MAAAA;AAAF,QAAwB,KAAKY,KAAnC;AACAZ,IAAAA,iBAAiB,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,EAAiBR,QAAjB,CAAjB;AACD;;AAEDS,EAAAA,MAAM,GAAE;AACN,UAAM;AAAE7B,MAAAA,WAAF;AAAe8B,MAAAA;AAAf,QAA4B,KAAKjB,KAAvC;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,OAAO,EAAE,MAAMb,WAAW,CAAC,KAAKU,OAAL,EAAD,CAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAKI,KAAKN,KAAL,CAAWI,SAAX,iBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAL5B,EAMI,KAAKJ,KAAL,CAAWK,aAAX,iBAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iEANhC,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIsB,KAAK,CAACC,IAAN,CAAWF,QAAX,EAAqBZ,MAArB,GAA6B,CAA7B,iBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADgC,eAEhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFgC,CADtC,EAKGa,KAAK,CAACC,IAAN,CAAWF,QAAX,EAAqBG,GAArB,CAA0B,CAAC;AAACb,MAAAA,QAAD;AAAWG,MAAAA;AAAX,KAAD,kBACzB;AAAI,MAAA,GAAG,EAAEH,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOA,QAAP,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,gBAAD;AACE,MAAA,KAAK,EAAEG,WADT;AAEE,MAAA,QAAQ,EAAEG,CAAC,IAAK,KAAKD,cAAL,CAAoBC,CAApB,EAAsBN,QAAtB,CAFlB;AAGE,MAAA,IAAI,EAAC,OAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CAFF,CADD,CALH,CARF,CADF;AA8BD;;AArFyC;;AAwF5C,MAAMc,eAAe,GAAI9B,KAAD,KAAY;AAClCO,EAAAA,WAAW,EAAEP,KAAK,CAAC+B,OAAN,CAAcC,OADO;AAElCN,EAAAA,QAAQ,EAAE1B,KAAK,CAAC+B,OAAN,CAAcE;AAFU,CAAZ,CAAxB;;AAKA,eAAetC,OAAO,CACpBmC,eADoB,EAErB;AAAClC,EAAAA,WAAD;AAAaC,EAAAA;AAAb,CAFqB,CAAP,CAGbC,aAHa,CAAf","sourcesContent":["import React from 'react';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport { connect } from 'react-redux';\r\nimport { addTaskData, addVarDescription } from '../../../../redux/actions/newTask';\r\n\r\nclass VariabelsList extends React.Component {\r\n\r\n  state = {\r\n    variablesInput: '',\r\n    activeForm: 0,\r\n    addingType: '',\r\n    varsExist: false,\r\n    varsOneLetter: false\r\n  }\r\n\r\n  getCode(){\r\n    const { taskContent: task } = this.props;\r\n    let subString = '';\r\n    let start = false;\r\n    const code = [];\r\n    for(let i in task){\r\n      if(task[i] === '}'){\r\n        if(subString.length){\r\n          if(!code.some(({variable}) => variable == subString.trim())){\r\n            code.push({variable: subString.trim(), description: ''});\r\n          }\r\n        };\r\n        subString = '';\r\n        start = false;\r\n      };\r\n      if(start) subString = subString + task[i];\r\n      if( task[i] === '{'){\r\n         start = true;\r\n         i++;\r\n      }\r\n    }\r\n    if(code.length){\r\n      this.setState({varsExist: false});\r\n      if(code.some(({variable}) => variable.length !== 1)){\r\n        this.setState({varsOneLetter: true});\r\n        return [];\r\n      }\r\n      else {\r\n        this.setState({varsOneLetter: false});\r\n        return code\r\n      }\r\n    }\r\n    else {\r\n      this.setState({varsExist: true});\r\n      return code;\r\n    };\r\n  }\r\n\r\n  addDescription(e,variable){\r\n    const { addVarDescription } = this.props;\r\n    addVarDescription(e.target.value, variable);\r\n  }\r\n\r\n  render(){\r\n    const { addTaskData, taskData } = this.props;\r\n    return (\r\n      <div>\r\n        <button\r\n          onClick={() => addTaskData(this.getCode())}>\r\n          Ustal zmienne\r\n        </button>\r\n        { this.state.varsExist && <h4>Nie podałeś zmiennych</h4>}\r\n        { this.state.varsOneLetter && <h4>Nazwy zmiennych powinny zawierać jedną litere</h4>}\r\n\r\n        <ul>\r\n          { Array.from(taskData).length >0 && <li>\r\n              <span>Nazwa</span>\r\n              <span>Opis</span>\r\n            </li>}\r\n          {Array.from(taskData).map( ({variable, description}) =>\r\n            <li key={variable}>\r\n              <span>{variable}</span>\r\n              <span>\r\n              <TextareaAutosize\r\n                value={description}\r\n                onChange={e =>  this.addDescription(e,variable)}\r\n                name=\"title\"\r\n              />\r\n              </span>\r\n            </li>\r\n          )\r\n          }\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  taskContent: state.newTask.content,\r\n  taskData: state.newTask.variables\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n {addTaskData,addVarDescription})\r\n (VariabelsList);\r\n"]},"metadata":{},"sourceType":"module"}