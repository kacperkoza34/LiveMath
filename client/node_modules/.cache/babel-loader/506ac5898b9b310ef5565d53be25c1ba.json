{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pekus\\\\Desktop\\\\desktop\\\\liveMathDemoRedux\\\\client\\\\src\\\\components\\\\tasks\\\\DisplayTask\\\\BooleanTask\\\\BooleanTask.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport MathJax from '../../MathJax';\nimport SelectClass from '../../AddTaskToClass/SelectClass';\nimport SelectDeadLine from '../../AddTaskToClass/SelectDeadLine';\nimport { connect } from 'react-redux';\nimport { getBooleanTask } from '../../../../redux/actions/tasks';\n\nconst BooleanTask = ({\n  match,\n  getBooleanTask,\n  accountType,\n  tasks: {\n    data,\n    isFetching,\n    errors\n  }\n}) => {\n  useEffect(() => {\n    getBooleanTask(match.params.id);\n  }, []);\n  const answers = {};\n  const [taskStatus, setTaskStatus] = useState(null);\n  const [checkAnswers, setChekAnswers] = useState(false);\n\n  const prepareState = () => {\n    data.data.forEach((item, i) => {\n      answers[`${i}`] = '';\n    });\n    setTaskStatus({ ...answers\n    });\n  };\n\n  const onChange = e => {\n    setChekAnswers(false);\n    if (e.target.value === '') setTaskStatus({ ...taskStatus,\n      [e.target.name]: ''\n    });else setTaskStatus({ ...taskStatus,\n      [e.target.name]: e.target.value === 'true' ? true : false\n    });\n  };\n\n  const displayResult = () => {\n    let result = 0;\n    data.data.forEach(({\n      answer\n    }, i) => answer === taskStatus[i] && result++);\n    return `${result}/${Object.keys(taskStatus).length}`;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isFetching ? /*#__PURE__*/React.createElement(BeatLoader, {\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 20\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, taskStatus === null && prepareState(), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, data.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, data.description), taskStatus && /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, data.data.map(({\n    content,\n    answer\n  }, i) => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }\n  }, `${i + 1}). `, content + '   ', /*#__PURE__*/React.createElement(\"select\", {\n    name: `${i}`,\n    value: taskStatus[`${i}`],\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 23\n    }\n  }, \"Wybierz odpowiedz\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }\n  }, \"Prawda\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 23\n    }\n  }, \"Fa\\u0142sz\"))))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setChekAnswers(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Sprawd\\u017A odpowiedzi\"), checkAnswers && displayResult(), accountType == 'teacher' && /*#__PURE__*/React.createElement(SelectClass, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 41\n    }\n  })));\n};\n\nBooleanTask.propTypes = {};\n\nconst mapStateToProps = state => ({\n  tasks: state.tasks,\n  accountType: state.user.data.accountType\n});\n\nexport default connect(mapStateToProps, {\n  getBooleanTask\n})(BooleanTask);","map":{"version":3,"sources":["C:/Users/pekus/Desktop/desktop/liveMathDemoRedux/client/src/components/tasks/DisplayTask/BooleanTask/BooleanTask.js"],"names":["React","useEffect","useState","PropTypes","BeatLoader","MathJax","SelectClass","SelectDeadLine","connect","getBooleanTask","BooleanTask","match","accountType","tasks","data","isFetching","errors","params","id","answers","taskStatus","setTaskStatus","checkAnswers","setChekAnswers","prepareState","forEach","item","i","onChange","e","target","value","name","displayResult","result","answer","Object","keys","length","description","map","content","propTypes","mapStateToProps","state","user"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport MathJax from '../../MathJax';\r\nimport SelectClass from '../../AddTaskToClass/SelectClass';\r\nimport SelectDeadLine from '../../AddTaskToClass/SelectDeadLine';\r\nimport { connect } from 'react-redux';\r\nimport { getBooleanTask } from '../../../../redux/actions/tasks';\r\n\r\n\r\nconst BooleanTask = ({\r\n  match,\r\n  getBooleanTask,\r\n  accountType,\r\n  tasks: {\r\n    data,\r\n    isFetching,\r\n    errors,\r\n  }\r\n}) =>{\r\n\r\n  useEffect(()=>{\r\n    getBooleanTask(match.params.id);\r\n  },[]);\r\n\r\n  const answers = {};\r\n  const [taskStatus, setTaskStatus] =  useState(null);\r\n  const [checkAnswers, setChekAnswers] =  useState(false);\r\n\r\n  const prepareState = () => {\r\n    data.data.forEach((item, i) => {\r\n     answers[`${i}`] = '';\r\n    });\r\n    setTaskStatus({...answers});\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setChekAnswers(false);\r\n    if(e.target.value === '') setTaskStatus({...taskStatus, [e.target.name]: ''});\r\n    else setTaskStatus({...taskStatus, [e.target.name]: e.target.value === 'true'? true : false});\r\n  };\r\n\r\n  const displayResult = () => {\r\n    let result = 0;\r\n    data.data.forEach(({answer}, i) => answer === taskStatus[i] && result++  );\r\n    return `${result}/${Object.keys(taskStatus).length}`\r\n  };\r\n  return (\r\n    <>\r\n      {isFetching? <BeatLoader size={20}/> :\r\n        <>\r\n          {taskStatus === null && prepareState()}\r\n          <h4>{data.name}</h4>\r\n          <p>{data.description}</p>\r\n          {taskStatus &&\r\n            <ul>{data.data.map(({content,answer},i)=>\r\n                  <li>{`${i+1}). `}\r\n                    {content+'   '}\r\n                    <select\r\n                      name={`${i}`}\r\n                      value={taskStatus[`${i}`]}\r\n                      onChange={(e)=>onChange(e)}\r\n                    >\r\n                      <option value={''}>Wybierz odpowiedz</option>\r\n                      <option value={true}>Prawda</option>\r\n                      <option value={false}>Fałsz</option>\r\n                  </select>\r\n                  </li>\r\n                  )\r\n                }\r\n            </ul>\r\n          }\r\n          <button onClick={()=>setChekAnswers(true)}>Sprawdź odpowiedzi</button>\r\n          { checkAnswers && displayResult() }\r\n          { accountType == 'teacher' && <SelectClass />}\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nBooleanTask.propTypes = {\r\n\r\n}\r\n\r\nconst mapStateToProps = state =>({\r\n  tasks: state.tasks,\r\n  accountType: state.user.data.accountType\r\n})\r\n\r\nexport default connect(mapStateToProps,{getBooleanTask})(BooleanTask);\r\n"]},"metadata":{},"sourceType":"module"}